<% layout("/layouts/boilerplate") %>
    <!DOCTYPE html>

    <html>

    <head>
        <title>Login</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>

    <body class="bg-white text-light">

        <div class="container mt-5 col-md-4">
            <div class="card p-4 shadow-lg">


                <h3 class="text-center mb-3">Login</h3>

                <form action="/login" method="POST">

                    <div class="mb-3">
                        <label>Email</label>
                        <input type="text" name="username" class="form-control" required>
                    </div>

                    <div class="mb-3">
                        <label>Password</label>
                        <input type="password" name="password" class="form-control" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Login As</label>
                        <select name="role" id="roleSelect" class="form-control" required>
        <option value="customer">Customer</option>
        <option value="host">Host</option>
        <option value="admin">Admin</option>
    </select>
                    </div>

                    <!-- ADMIN SECRET KEY BOX -->
                    <div class="mb-3" id="adminKeyBox" style="display:none;">
                        <label class="form-label">Admin Secret Key</label>
                        <input type="password" name="adminKey" class="form-control" placeholder="Enter admin secret key">
                    </div>


                    <button class="btn btn-success w-100">Login</button>
                </form>

                <div class="mt-3 text-center">
                    <a href="/forgot">Forgot Password?</a>
                </div>

                <div class="mt-2 text-center">
                    <a href="/signup">Create Account</a>
                </div>

            </div>


        </div>


        <script>
            const role = document.getElementById("roleSelect");
            const keyBox = document.getElementById("adminKeyBox");

            role.addEventListener("change", () => {
                if (role.value === "admin") {
                    keyBox.style.display = "block";
                } else {
                    keyBox.style.display = "none";
                }
            });
        </script>


    </body>

    </html>